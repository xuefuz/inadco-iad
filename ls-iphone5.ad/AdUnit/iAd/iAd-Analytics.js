
/**
*
* Copyright Â© 2009 - 2012 Apple Inc.  All rights reserved.
*
**/

/* iAd JS Version: 1.6.1 - iAdExt: 1.2.4+ */
var iAd={};iAd.VERSION="1.6.1";iAd.Console={};iAd.Console.log=function(){window.console&&console.log&&console.log.apply(console,arguments)};iAd.Console._fallbackLog=function(a,b){b.unshift(a.toUpperCase()+":");iAd.Console.log.apply(iAd.Console,b)};iAd.Console._log=function(a,b){window.console&&console[a]?console[a].apply(console,b):iAd.Console._fallbackLog(a,Array.prototype.slice.call(b))};iAd.Console.warn=function(){iAd.Console._log("warn",arguments)};
iAd.Console.error=function(){iAd.Console._log("error",arguments)};iAd.Console.debug=function(){iAd.Console._log("debug",arguments)};iAd.Console.assert=function(){if(window.console&&console.assert)console.assert.apply(console,arguments);else arguments[0]||iAd.Console._fallbackLog("assert",[arguments[1]||""])};iAd.Console.info=function(){iAd.Console._log("info",arguments)};iAd.Utils={};iAd.Utils.copyPropertiesFromSourceToTarget=function(a,b){for(var c in a)b[c]=a[c]};
iAd.Utils.objectIsFunction=function(a){return typeof a=="function"};iAd.Utils.objectIsString=function(a){return typeof a=="string"||a instanceof String};iAd.Utils.objectIsArray=function(a){return a instanceof Array};iAd.Utils.objectIsPrimitive=function(a){return a==null||typeof a=="number"||typeof a=="boolean"||this.objectIsString(a)};iAd.Utils.objectHasMethod=function(a,b){return a!=null&&a[b]!==undefined&&this.objectIsFunction(a[b])};
iAd.Utils.objectIsInstanceOfClass=function(a,b){return b!=null&&a instanceof b};iAd.Utils.resolveObjectPathFrom=function(a,b,c){if(!(!b||b[0]==".")){b=b.split(".");for(var d,e,f=0,g=b.length;a!=null&&f<g;f++){e=b[f];d=a[e];if(c&&d==null)d=a[e]={};a=d}return a}};iAd.Utils.resolveObjectPath=function(a,b){return iAd.Utils.resolveObjectPathFrom(window,a,b)};
iAd.Utils.setupDisplayNames=function(a,b){b=b||a.displayName||a.name;a.displayName=a.displayName||b;for(var c in a)if(!a.__lookupGetter__(c)){var d=a[c];if(iAd.Utils.objectIsFunction(d))d.displayName=iAd.Utils.createDisplayName(b,c)}for(c in a.prototype)if(!a.prototype.__lookupGetter__(c)){d=a.prototype[c];if(iAd.Utils.objectIsFunction(d))d.displayName=iAd.Utils.createDisplayName(b,c,true)}};iAd.Utils.createDisplayName=function(a,b,c){return a+(c?".":"#")+b+"()"};
iAd.Utils.setupDisplayNames(iAd.Utils,"iAd.Utils");iAd.Array={};iAd.Array.removeObjectFromArray=function(a,b){var c=b.indexOf(a);if(c==-1)return false;b.splice(c,1);return true};iAd.Utils.setupDisplayNames(iAd.Array,"iAd.Array");iAd.Analytics={_observedObjects:{},_messagesById:{},_uid:1};iAd.Analytics.logsToConsole=false;iAd.Analytics.NAME_TO_SYMBOL_MAP={analyticsObjectId:"as",analyticsName:"an",analyticsType:"at",analyticsSectionId:"k"};
iAd.Analytics.log=function(a){if(a==null)iAd.Console.warn("iAd.Analytics.log requires a valid parameter.");else{var b={},c;for(var d in a)if(d in this.NAME_TO_SYMBOL_MAP)b[this.NAME_TO_SYMBOL_MAP[d]]=a[d];else{if(c==null)c={};c[d]=a[d]}if(c!=null)b.a=c;a={v:iAd.VERSION};a[Date.now()]=b;this.composeMessage(a)}};iAd.Analytics.setMessageForId=function(a,b){if(b&&a)this._messagesById[b]=a};
iAd.Analytics.updateMessageWithId=function(a,b){var c=this._messagesById[a];c&&b&&iAd.Utils.copyPropertiesFromSourceToTarget(b,c)};iAd.Analytics.logMessageWithId=function(a,b,c){if(a=this._messagesById[a]){var d={};iAd.Utils.copyPropertiesFromSourceToTarget(a,d);c&&c.analyticsDetails&&iAd.Utils.copyPropertiesFromSourceToTarget(c.analyticsDetails,d);b&&iAd.Utils.copyPropertiesFromSourceToTarget(b,d);for(key in d){value=d[key];d[key]=iAd.Utils.objectIsFunction(value)?value.call(c||this):value}this.log(d)}};
iAd.Analytics.logEvent=function(a,b,c){var d=b.id||b._analyticsId;if(d)if(d=this._observedObjects[d])(a=d[a])&&a.forEach(function(e){this.logMessageWithId(e,c,b)},this)};iAd.Analytics.registerMessageForEvent=function(a,b,c){if(c){var d;d=iAd.Utils.objectIsString(c)?c:c.id?c.id:c._analyticsId?c._analyticsId:c._analyticsId=this.uniqueId();if(b&&a){(c=this._observedObjects[d])||(c=this._observedObjects[d]={});(d=c[b])||(d=c[b]=[]);d.indexOf(a)==-1&&d.push(a)}}};
iAd.Analytics.unregisterMessageForEvent=function(a,b,c){if(c){c=iAd.Utils.objectIsString(c)?c:c.id||c._analyticsId;if(!(!c||!b||!a))if(c=this._observedObjects[c])(b=c[b])&&iAd.Array.removeObjectFromArray(a,b)}};iAd.Analytics.composeMessage=function(a){a=JSON.stringify(a);window.hasOwnProperty("ad")&&window.ad.reportClickEvent(a);this.logsToConsole&&iAd.Console.log("[ANALYTICS]: "+a)};
iAd.Analytics.processAnalyticsWithConfiguration=function(a){var b=a.messages;if(b)for(var c in b)this.setMessageForId(b[c],c);(a=a.messagesForEvents)&&a.forEach(function(d){this.registerMessageForEvent(d.messageId,d.eventType,d.objectId)},this)};iAd.Analytics.uniqueId=function(){return"analytics-"+this._uid++};
iAd.Analytics.logsToConsole = true;